<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Mi cuenta – NERIN</title>
    <meta name="robots" content="noindex, nofollow" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
    <link rel="stylesheet" href="/style.css?v=cartfix-2" />
    <link rel="stylesheet" href="/components/np-footer.css?v=np-r2" />
    <script src="/components/np-footer.js?v=np-r2" defer></script>
    <style>
      .account-simple { display: grid; gap: 1rem; }
      .account-simple .account-card {
        min-width: 0;
      }
      .account-simple .card-header {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: .45rem;
      }
      .account-simple .card-header .helper-text {
        max-width: 100%;
      }
      .selector-box { border: 1px solid #d7d8de; border-radius: 16px; padding: 1rem; background: #fff; }
      .selector-box select, .return-form textarea { width: 100%; }
      .return-form { display: grid; gap: .75rem; }
      .table-wrapper { overflow-x: auto; width: 100%; }
      .account-simple .admin-table {
        width: 100%;
        table-layout: fixed;
      }
      .account-simple .admin-table th,
      .account-simple .admin-table td {
        white-space: normal;
        word-break: break-word;
        font-size: .84rem;
      }
      .status-pill { display: inline-block; padding: .2rem .55rem; border-radius: 999px; background: #eef2ff; font-size: .82rem; }

      @media (max-width: 480px) {
        .account-simple {
          gap: .75rem;
        }
        .account-simple .admin-table th,
        .account-simple .admin-table td {
          padding: .45rem .3rem;
          font-size: .74rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-inner">
        <div class="logo"><a href="/index.html" class="brand"><img src="../assets/IMG_3086.png" alt="NERIN" class="site-logo" /></a></div>
        <button class="menu-toggle" id="navToggle">&#9776;</button>
        <nav id="mainNav">
          <ul>
            <li><a href="/index.html">Inicio</a></li>
            <li><a href="/shop.html">Productos</a></li>
            <li><a href="/contact.html">Contacto</a></li>
            <li><a href="/seguimiento.html">Seguir mi pedido</a></li>
            <li><a href="/cart.html">Carrito</a></li>
            <li><a href="/account.html" class="active">Mi cuenta</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="container account-dashboard account-simple">
      <section class="account-card">
        <div class="card-header">
          <h1>Mi cuenta mayorista</h1>
        </div>
      </section>

      <section class="account-card" id="salesHistorySection">
        <div class="card-header">
          <h3>Historial de ventas</h3>
        </div>
        <div class="table-wrapper">
          <table class="admin-table" id="salesHistoryTable">
            <thead>
              <tr>
                <th>Pedido</th>
                <th>Fecha</th>
                <th>Estado</th>
                <th>Transportista</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              <tr><td colspan="5">Cargando pedidos…</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="account-card selector-box" id="carrierSelectorSection">
        <div class="card-header">
          <h3>Selector de transportista</h3>
          <p class="helper-text">Elegí el transportista preferido para próximos envíos y devoluciones.</p>
        </div>
        <label for="preferredCarrier">Transportista</label>
        <select id="preferredCarrier">
          <option value="Andreani">Andreani</option>
          <option value="Correo Argentino">Correo Argentino</option>
          <option value="OCA">OCA</option>
          <option value="Moto mensajería">Moto mensajería</option>
          <option value="Retiro por sucursal">Retiro por sucursal</option>
        </select>
      </section>

      <section class="account-card" id="returnsSection">
        <div class="card-header">
          <h3>Sistema de devolución</h3>
          <p class="helper-text">Las devoluciones quedan pendientes hasta aprobación del administrador.</p>
        </div>

        <form id="returnForm" class="return-form">
          <div class="form-row">
            <label for="returnOrderId">Pedido entregado</label>
            <select id="returnOrderId" required></select>
          </div>
          <div class="form-row">
            <label for="returnReason">Motivo</label>
            <textarea id="returnReason" rows="3" required placeholder="Describí la falla o el motivo de la devolución"></textarea>
          </div>
          <button type="submit" class="button primary small">Crear devolución</button>
        </form>

        <div class="table-wrapper" style="margin-top:1rem;">
          <table class="admin-table" id="returnsTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Pedido</th>
                <th>Fecha</th>
                <th>Motivo</th>
                <th>Estado</th>
              </tr>
            </thead>
            <tbody>
              <tr><td colspan="5">Cargando devoluciones…</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script type="module" src="/js/account-simple.js"></script>
    <script type="module" src="/js/config.js"></script>
  </body>
</html>
